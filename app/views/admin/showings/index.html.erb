<div>
  <h1 class="font-bold text-4xl flex justify-center">Now Showing</h1>
</div>

<div class="mt-12">
  <%= link_to "Add Movie", new_admin_showing_path %>
</div>

<div class="relative overflow-x-auto">
  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-800 uppercase bg-gray-300">
      <tr>
        <th class="px-6 py-3" scope="col">ID</th>
        <th class="px-6 py-3" scope="col">Movie Title</th>
        <th class="px-6 py-3" scope="col">Cinema Name(location)</th>
        <th class="px-6 py-3" scope="col">Showing Date</th>
        <th class="px-6 py-3" scope="col">Showing Time</th>
        <th class="px-6 py-3" scope="col">Date Added</th>
        <th class="px-6 py-3" scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <% @showings.each do |show| %>
      <tr class="bg-gray-100 border-b">
          <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
            <%= show.id %>
          </td>
          <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
            <%= link_to show.movie.title, admin_showing_path(show) %>
          </td>
          <td class="px-6 py-4 font-normal text-gray-700 whitespace-normal"><%= show.cinema.name %></td>
          <td class="px-6 py-4 font-normal text-gray-700 whitespace-normal"><%= show.date.strftime("%B %d %Y") %></td>
          <td class="px-6 py-4 font-normal text-gray-700 whitespace-normal"><%= show.time.strftime("%I:%M %p") %></td>
          <td class="px-6 py-4 font-normal text-gray-700 whitespace-normal"><%= time_tag show.created_at, "data-local": "time-ago" %></td>
          <td>
            <%= link_to "Edit", edit_admin_showing_path(show), class:"text-yellow-600"%>
            <%= link_to "Delete", admin_showing_path(show), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class:"text-red-600"%>
          </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
